{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"PriorityX","text":"<p>Entity prioritization and escalation detection using GLMM statistical models</p> <p> </p>"},{"location":"#installation","title":"Installation","text":"<pre><code>pip install priorityx\n</code></pre>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code>import pandas as pd\nimport priorityx as px\n\ndf = pd.read_csv(\"data.csv\")\n\n# Default: volume x growth (single GLMM)\nresults, stats = px.fit_priority_matrix(\n    df,\n    entity_col=\"service\",\n    timestamp_col=\"date\",\n    temporal_granularity=\"quarterly\",\n)\n# Returns: entity, x_score, y_score, count, quadrant\n\npx.plot_priority_matrix(results, entity_name=\"Service\", save_plot=True)\n</code></pre>"},{"location":"#custom-axes","title":"Custom Axes","text":"<pre><code># Custom Y axis: volume \u00d7 resolution_days (two GLMMs)\nresults, _ = px.fit_priority_matrix(\n    df,\n    entity_col=\"service\",\n    timestamp_col=\"date\",\n    y_metric=\"resolution_days\",\n)\n\n# Custom both axes: disputed_amount \u00d7 paid_amount\nresults, _ = px.fit_priority_matrix(\n    df,\n    entity_col=\"service\",\n    timestamp_col=\"date\",\n    x_metric=\"disputed_amount\",\n    y_metric=\"paid_amount\",\n)\n</code></pre>"},{"location":"#composite-indices","title":"Composite Indices","text":"<pre><code># Add entity metrics\nmetrics = px.aggregate_entity_metrics(\n    df,\n    entity_col=\"service\",\n    duration_start_col=\"opened_at\",\n    duration_end_col=\"closed_at\",\n    primary_col=\"exposure\",\n    secondary_col=\"recovery\",\n)\nresults = results.merge(metrics, left_on=\"entity\", right_on=\"service\", how=\"left\")\n\n# Add weighted indices: RI (Risk), SQI (Service Quality), EWI (Early Warning)\nresults = px.add_priority_indices(\n    results,\n    volume_col=\"count\",\n    growth_col=\"y_score\",\n    severity_col=\"total_primary\",\n    resolution_col=\"mean_duration\",\n    recovery_col=\"secondary_to_primary_ratio\",\n)\n\n# Top priority entities\ntop_risks = results.nlargest(10, \"EWI\")\n</code></pre>"},{"location":"#features","title":"Features","text":"<ul> <li>GLMM-based priority matrix (Q1\u2013Q4) with entity-level intercept/slope insights</li> <li>Priority-based transition timeline (Crisis / Investigate / Monitor / Low) with spike markers (<code>*X</code>, <code>*Y</code>, <code>*XY</code>)</li> <li>Cumulative movement tracking and trajectory visualizations</li> <li>Transition driver analysis that surfaces top subcategories causing quadrant shifts</li> <li>Deterministic seeding option for reproducible GLMM runs (set <code>PRIORITYX_GLMM_SEED</code>)</li> </ul>"},{"location":"#use-cases","title":"Use Cases","text":"<ul> <li>Consumer complaint prioritization (financial services, regulatory)</li> <li>IT incident triage</li> <li>Software bug prioritization</li> <li>Compliance violation monitoring</li> <li>Performance monitoring and escalation detection</li> </ul>"},{"location":"#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start Guide \u2014 Full walkthrough</li> <li>API Reference \u2014 Function signatures and parameters</li> <li>Methodology \u2014 Statistical background</li> </ul>"},{"location":"api-reference/","title":"API Reference","text":""},{"location":"api-reference/#core-functions","title":"Core Functions","text":""},{"location":"api-reference/#fit_priority_matrix","title":"fit_priority_matrix","text":"<pre><code>import priorityx as px\n\n# Default: volume \u00d7 growth (single GLMM) - simple form\nresults = px.fit_priority_matrix(\n    df,\n    entity_col=\"service\",\n    timestamp_col=\"date\",\n    temporal_granularity=\"quarterly\",\n)\n# Returns: DataFrame with entity, x_score, y_score, count, quadrant\n\n# Get statistics too (advanced)\nresults, stats = px.fit_priority_matrix(\n    df,\n    entity_col=\"service\",\n    timestamp_col=\"date\",\n    temporal_granularity=\"quarterly\",\n    return_stats=True,  # returns (DataFrame, dict) tuple\n)\n\n# Custom Y axis: volume \u00d7 resolution_days (two GLMMs)\nresults = px.fit_priority_matrix(\n    df,\n    entity_col=\"service\",\n    timestamp_col=\"date\",\n    y_metric=\"resolution_days\",\n)\n\n# Custom both axes with Gamma family for right-skewed data\nresults = px.fit_priority_matrix(\n    df,\n    entity_col=\"service\",\n    timestamp_col=\"date\",\n    x_metric=\"disputed_amount\",\n    y_metric=\"paid_amount\",\n    family=\"gamma\",\n)\n</code></pre> <p>Unified entry point for GLMM-based entity prioritization. Supports count-based (Poisson) and metric-based (Gaussian/Gamma) axes.</p> <p>Parameters:</p> <ul> <li><code>df</code>: pandas DataFrame with one row per event</li> <li><code>entity_col</code>: Entity identifier column name</li> <li><code>timestamp_col</code>: Date column name</li> <li><code>x_metric</code>: Optional metric column for X axis (None = count-based)</li> <li><code>y_metric</code>: Optional metric column for Y axis (None = count-based)</li> <li><code>x_effect</code>: Random effect for X score (\"intercept\" or \"slope\", default: \"intercept\")</li> <li><code>y_effect</code>: Random effect for Y score (\"intercept\" or \"slope\", default: \"slope\")</li> <li><code>family</code>: Distribution for continuous metrics (\"gaussian\" or \"gamma\", default: \"gaussian\")</li> <li><code>count_col</code>: Optional count column (default: row count per entity-period)</li> <li><code>date_filter</code>: Date filter string (e.g., \"&lt; 2025-01-01\", \"&gt;= 2024-01-01\")</li> <li><code>min_observations</code>: Minimum time periods required per entity</li> <li><code>min_total_count</code>: Minimum total count threshold</li> <li><code>decline_window_quarters</code>: Filter entities inactive &gt;N quarters</li> <li><code>temporal_granularity</code>: \"yearly\", \"quarterly\", \"semiannual\", or \"monthly\"</li> <li><code>vcp_p</code>: Random effects prior scale (default: 3.5)</li> <li><code>fe_p</code>: Fixed effects prior scale (default: 3.0)</li> <li><code>return_stats</code>: If True, returns (DataFrame, dict) tuple (default: False)</li> </ul> <p>Returns:</p> <ul> <li>Default (<code>return_stats=False</code>): DataFrame with <code>entity</code>, <code>x_score</code>, <code>y_score</code>, <code>count</code>, <code>quadrant</code></li> <li>With <code>return_stats=True</code>: Tuple of (DataFrame, stats dict)</li> </ul> <p>Family Selection:</p> <ul> <li><code>\"gaussian\"</code> (default): Works for any data, robust for entity ranking</li> <li><code>\"gamma\"</code>: Use for right-skewed positive data (durations, monetary amounts)</li> </ul> <p>Reproducibility: set the environment variable <code>PRIORITYX_GLMM_SEED</code> or call <code>set_glmm_random_seed(value)</code> before invoking <code>fit_priority_matrix</code> to obtain deterministic variational Bayes estimates.</p>"},{"location":"api-reference/#metrics-functions","title":"Metrics Functions","text":""},{"location":"api-reference/#aggregate_entity_metrics","title":"aggregate_entity_metrics","text":"<pre><code>import priorityx as px\n\nmetrics = px.aggregate_entity_metrics(\n    df,\n    entity_col=\"service\",\n    duration_start_col=\"opened_at\",\n    duration_end_col=\"closed_at\",\n    primary_col=\"exposure\",\n    secondary_col=\"recovery\",\n)\n# Returns: entity, mean_duration, total_primary, total_secondary, secondary_to_primary_ratio\n</code></pre> <p>Computes per-entity aggregated metrics for enrichment.</p>"},{"location":"api-reference/#add_priority_indices","title":"add_priority_indices","text":"<pre><code>import priorityx as px\n\nenriched = px.add_priority_indices(\n    results,\n    volume_col=\"count\",\n    growth_col=\"y_score\",\n    severity_col=\"total_primary\",\n    resolution_col=\"mean_duration\",\n    recovery_col=\"secondary_to_primary_ratio\",\n    # Weights (defaults shown)\n    w_volume=0.4, w_growth=0.4, w_severity=0.2,\n    w_resolution=0.5, w_recovery=0.5,\n    w_risk=0.7, w_quality=0.3,\n)\n</code></pre> <p>Adds composite risk indices to enriched entity data.</p> <p>Output columns:</p> <ul> <li><code>z_volume</code>, <code>z_growth</code>, <code>z_severity</code>: Z-scored risk components</li> <li><code>z_neg_resolution</code>, <code>z_recovery</code>: Z-scored quality components</li> <li><code>RI</code>: Risk Index = weighted sum of z_volume, z_growth, z_severity</li> <li><code>SQI</code>: Service Quality Index = weighted sum of z_neg_resolution, z_recovery</li> <li><code>EWI</code>: Early Warning Index = w_risk \u00d7 RI + w_quality \u00d7 (-SQI)</li> </ul> <p>Usage: <pre><code># Top priority entities\ntop_risks = enriched.nlargest(10, \"EWI\")\n</code></pre></p>"},{"location":"api-reference/#sensitivity_analysis","title":"sensitivity_analysis","text":"<pre><code>import priorityx as px\n\nresults = px.sensitivity_analysis(\n    df,\n    index_col=\"EWI\",\n    entity_col=\"entity\",\n    weight_ranges={\n        \"w_risk\": [0.6, 0.7, 0.8],\n        \"w_quality\": [0.2, 0.3, 0.4],\n    },\n    top_n=10,\n)\n</code></pre> <p>Tests ranking stability across weight variations.</p>"},{"location":"api-reference/#tracking-functions","title":"Tracking Functions","text":""},{"location":"api-reference/#track_movement","title":"track_movement","text":"<pre><code>import priorityx as px\n\n# Simple form (most users)\nmovement = px.track_movement(\n    df,\n    entity_col=\"service\",\n    timestamp_col=\"date\",\n    quarters=None,\n    min_total_count=20,\n    temporal_granularity=\"quarterly\",\n)\n\n# Get metadata too (advanced)\nmovement, meta = px.track_movement(\n    df,\n    entity_col=\"service\",\n    timestamp_col=\"date\",\n    min_total_count=20,\n    temporal_granularity=\"quarterly\",\n    return_metadata=True,  # returns (DataFrame, dict) tuple\n)\n</code></pre> <p>Tracks entity movement through priority quadrants over time.</p> <p>Parameters:</p> <ul> <li><code>df</code>: Input pandas DataFrame</li> <li><code>entity_col</code>: Entity identifier column name</li> <li><code>timestamp_col</code>: Date column name</li> <li><code>quarters</code>: Period specification (None = auto-detect)</li> <li><code>min_total_count</code>: Minimum total count for inclusion (default: 20)</li> <li><code>decline_window_quarters</code>: Max quarters after last observation (default: 6)</li> <li><code>temporal_granularity</code>: \"quarterly\" or \"monthly\"</li> <li><code>vcp_p</code>: Random effects prior scale (default: 3.5)</li> <li><code>fe_p</code>: Fixed effects prior scale (default: 3.0)</li> <li><code>return_metadata</code>: If True, returns (DataFrame, dict) tuple (default: False)</li> </ul> <p>Returns:</p> <ul> <li>Default (<code>return_metadata=False</code>): DataFrame with quarterly X/Y positions</li> <li>With <code>return_metadata=True</code>: Tuple of (DataFrame, metadata dict)</li> </ul>"},{"location":"api-reference/#load_or_track_movement","title":"load_or_track_movement","text":"<pre><code>import priorityx as px\n\n# Simple form - compute or load from cache\nmovement = px.load_or_track_movement(\n    df,\n    entity_name=\"issue\",\n    entity_col=\"service\",\n    timestamp_col=\"date\",\n    quarters=[\"2024-01-01\", \"2025-01-01\"],\n    min_total_count=20,\n    output_dir=\"results/csv\",\n)\n\n# Get CSV path for logging\nmovement, csv_path = px.load_or_track_movement(\n    df,\n    entity_name=\"issue\",\n    entity_col=\"service\",\n    timestamp_col=\"date\",\n    quarters=[\"2024-01-01\", \"2025-01-01\"],\n    min_total_count=20,\n    output_dir=\"results/csv\",\n    return_path=True,\n)\n</code></pre> <p>Caches movement tracking results to disk. On subsequent runs, loads from cache if available (<code>use_cache=True</code> by default).</p> <p>Parameters:</p> <ul> <li><code>df</code>: Input DataFrame</li> <li><code>entity_name</code>: Friendly name for file naming</li> <li><code>entity_col</code>: Entity column name</li> <li><code>timestamp_col</code>: Timestamp column name</li> <li><code>quarters</code>: Period specification</li> <li><code>min_total_count</code>: Minimum count threshold</li> <li><code>temporal_granularity</code>: \"quarterly\" or \"monthly\" (default: \"quarterly\")</li> <li><code>output_dir</code>: Cache directory (default: \"results/csv\")</li> <li><code>use_cache</code>: Load from cache if available (default: True)</li> <li><code>return_path</code>: If True, returns (DataFrame, csv_path) tuple (default: False)</li> </ul> <p>Returns:</p> <ul> <li>Default (<code>return_path=False</code>): DataFrame with movement data</li> <li>With <code>return_path=True</code>: Tuple of (DataFrame, csv_path)</li> </ul>"},{"location":"api-reference/#extract_transitions","title":"extract_transitions","text":"<pre><code>import priorityx as px\n\ntransitions = px.extract_transitions(\n    movement_df,\n    focus_risk_increasing=True\n)\n</code></pre> <p>Extracts quadrant transitions from movement data.</p> <p>Returns:</p> <ul> <li>DataFrame with transition details and risk levels</li> </ul>"},{"location":"api-reference/#extract_transition_drivers","title":"extract_transition_drivers","text":"<pre><code>import priorityx as px\n\n# Basic usage with categorical breakdowns\nanalysis = px.extract_transition_drivers(\n    movement_df,\n    df_raw,\n    entity_name=\"Service A\",\n    period_from=\"2024-Q2\",\n    period_to=\"2024-Q3\",\n    entity_col=\"service\",\n    timestamp_col=\"date\",\n    subcategory_cols=[\"type\", \"category\"],  # categorical breakdowns\n)\n\n# With numeric column breakdowns (amounts, durations)\nanalysis = px.extract_transition_drivers(\n    movement_df,\n    df_raw,\n    entity_name=\"Fintech - Pinjaman Online\",\n    period_from=\"2024-Q3\",\n    period_to=\"2024-Q4\",\n    entity_col=\"product\",\n    timestamp_col=\"date\",\n    subcategory_cols=[\"region\", \"gender\"],\n    numeric_cols={\n        \"disputed_amount\": [0, 1e6, 5e6, 10e6],  # explicit bin edges\n        \"resolution_days\": 4,                     # 4 quantile bins (auto)\n    },\n)\n</code></pre> <p>Analyzes root causes of a quadrant transition.</p> <p>Parameters:</p> <ul> <li><code>movement_df</code>: Output from track_movement()</li> <li><code>df_raw</code>: Raw event data (pandas DataFrame)</li> <li><code>entity_name</code>: Entity to analyze</li> <li><code>period_from</code>: Starting period (e.g., \"2024-Q2\", \"2024-01\")</li> <li><code>period_to</code>: Ending period (e.g., \"2024-Q3\", \"2024-02\")</li> <li><code>entity_col</code>: Entity column name</li> <li><code>timestamp_col</code>: Timestamp column name</li> <li><code>subcategory_cols</code>: Optional list of categorical columns for breakdown (auto-detected when omitted)</li> <li><code>numeric_cols</code>: Optional dict of numeric columns with bin specs:</li> <li>List of floats: explicit bin edges (e.g., <code>[0, 1e6, 5e6, 10e6]</code>)</li> <li>Integer: number of quantile bins (e.g., <code>4</code> for quartiles)</li> <li><code>top_n</code>: Limit of drivers per column (default: 3)</li> <li><code>min_delta</code>: Minimum count delta for inclusion (default: 1)</li> </ul> <p>Returns:</p> <ul> <li>Dictionary with:</li> <li><code>transition</code>: includes risk-level change and <code>is_concerning</code> flag</li> <li><code>magnitude</code>: cumulative deltas plus period-specific weekly averages and complaint counts</li> <li><code>spike_drivers</code>: summary notes aligned with spike indicators (<code>*X</code>, <code>*Y</code>, <code>*XY</code>)</li> <li><code>subcategory_drivers</code>: per-column driver lists for categorical columns</li> <li><code>numeric_drivers</code>: per-column driver lists for numeric columns (with bin edges)</li> <li><code>priority</code>: priority tier, trigger reason, spike axis</li> <li><code>meta</code>: diagnostic flags (e.g., whether subcategory columns were auto-detected)</li> </ul>"},{"location":"api-reference/#classify_priority","title":"classify_priority","text":"<pre><code>from priorityx.tracking.drivers import classify_priority\n\npriority, reason, spike_axis = classify_priority(\n    from_quadrant=\"Q3\",\n    to_quadrant=\"Q1\",\n    x=0.5, y=0.6,\n    x_delta=0.5, y_delta=0.5,\n    count_delta=100,\n    percent_change=200\n)\n</code></pre> <p>Classifies supervisory priority (1=Critical, 2=Investigate, 3=Monitor, 4=Low).</p> <p>Returns:</p> <ul> <li>Tuple of (priority, reason, spike_axis)</li> </ul>"},{"location":"api-reference/#visualization-functions","title":"Visualization Functions","text":""},{"location":"api-reference/#plot_priority_matrix","title":"plot_priority_matrix","text":"<pre><code>import priorityx as px\nfrom pathlib import Path\n\n# Basic plot (no save)\nfig = px.plot_priority_matrix(\n    results_df,\n    entity_name=\"Entity\",\n    figsize=(16, 12),\n    top_n_labels=5,\n    show_quadrant_labels=False,\n)\n\n# Save to file with simplified path API\nPLOT_DIR = Path(\"results/plot\")\nCSV_DIR = Path(\"results/csv\")\n\nfig = px.plot_priority_matrix(\n    results_df,\n    entity_name=\"issue\",\n    plot_path=PLOT_DIR / \"priority_matrix.png\",  # Path or str\n    csv_path=CSV_DIR / \"priority_matrix.csv\",    # Path or str\n    close_fig=True,\n)\n</code></pre> <p>Creates scatter plot of priority matrix.</p> <p>Path Parameters:</p> <ul> <li><code>plot_path</code>: Path to save plot (accepts Path or str). If provided, saves plot.</li> <li><code>csv_path</code>: Path to save CSV (accepts Path or str). If provided, saves CSV.</li> </ul>"},{"location":"api-reference/#plot_transition_timeline","title":"plot_transition_timeline","text":"<pre><code>import priorityx as px\nfrom pathlib import Path\n\n# Basic plot\nfig = px.plot_transition_timeline(\n    transitions_df,\n    entity_name=\"Entity\",\n    filter_risk_levels=[\"critical\", \"high\"],\n    max_entities=20,\n    movement_df=movement_df,\n)\n\n# Save with simplified path API\nfig = px.plot_transition_timeline(\n    transitions_df,\n    entity_name=\"issue\",\n    filter_risk_levels=[\"critical\", \"high\"],\n    max_entities=20,\n    movement_df=movement_df,\n    plot_path=PLOT_DIR / \"transitions.png\",\n    csv_path=CSV_DIR / \"transitions.csv\",\n    close_fig=True,\n)\n</code></pre> <p>Creates timeline heatmap of transitions. Passing <code>movement_df</code> is required to compute the Crisis/Investigate/Monitor/Low priority tiers and spike markers (<code>*X</code>, <code>*Y</code>, <code>*XY</code>). Omitting it falls back to legacy risk-level tags.</p> <p>Path Parameters:</p> <ul> <li><code>plot_path</code>: Path to save plot (accepts Path or str). If provided, saves plot.</li> <li><code>csv_path</code>: Path to save CSV (accepts Path or str). If provided, saves CSV.</li> </ul>"},{"location":"api-reference/#plot_entity_trajectories","title":"plot_entity_trajectories","text":"<pre><code>import priorityx as px\nfrom pathlib import Path\n\n# Basic usage (no save)\nfig = px.plot_entity_trajectories(\n    movement_df,\n    entity_name=\"Entity\",\n    max_entities=10,\n)\n\n# Auto-select top movers with simplified path API (recommended)\nfig = px.plot_entity_trajectories(\n    movement_df,\n    entity_name=\"product\",\n    highlight_top_n=4,                   # auto-select top 4 entities\n    highlight_by=\"trajectory_distance\",  # by path length (or \"total_movement\")\n    recent_periods=6,                    # limit to last 6 periods\n    plot_path=PLOT_DIR / \"trajectories.png\",\n    csv_path=CSV_DIR / \"trajectories.csv\",\n    close_fig=True,\n)\n</code></pre> <p>Creates trajectory plot showing entity paths through priority space.</p> <p>Parameters:</p> <ul> <li><code>movement_df</code>: Output from track_movement()</li> <li><code>entity_name</code>: Label for entity type (e.g., \"product\", \"service\")</li> <li><code>max_entities</code>: Maximum entities to show (default: 10)</li> <li><code>highlight_entities</code>: List of specific entities to highlight</li> <li><code>highlight_top_n</code>: Auto-select top N entities by movement (overrides max_entities)</li> <li><code>highlight_by</code>: Selection method when using highlight_top_n:</li> <li><code>\"trajectory_distance\"</code>: Euclidean path length (sum of sqrt(dx\u00b2 + dy\u00b2))</li> <li><code>\"total_movement\"</code>: Manhattan distance (sum of |dx| + |dy|)</li> <li><code>recent_periods</code>: Limit trajectory to last N periods (useful for long histories)</li> <li><code>temporal_granularity</code>: \"quarterly\", \"monthly\", etc.</li> <li><code>plot_path</code>: Path to save plot (accepts Path or str). If provided, saves plot.</li> <li><code>csv_path</code>: Path to save CSV (accepts Path or str). If provided, saves CSV.</li> <li><code>close_fig</code>: Close figure after rendering (set True for Jupyter to avoid duplicates)</li> </ul>"},{"location":"api-reference/#utility-functions","title":"Utility Functions","text":""},{"location":"api-reference/#display-summaries","title":"Display Summaries","text":"<pre><code>from priorityx.utils.helpers import (\n    display_quadrant_summary,\n    display_transition_summary,\n    display_movement_summary\n)\n\ndisplay_quadrant_summary(results_df, entity_name=\"Service\")\ndisplay_transition_summary(transitions_df, entity_name=\"Service\")\ndisplay_movement_summary(movement_df, entity_name=\"Service\")\n</code></pre> <p>Prints formatted summaries of analysis results.</p>"},{"location":"api-reference/#display_transition_drivers","title":"display_transition_drivers","text":"<pre><code>import priorityx as px\n\n# Print to console\npx.display_transition_drivers(analysis)\n\n# Print and save to file\npx.display_transition_drivers(\n    analysis,\n    save_txt=True,\n    txt_path=\"driver_analysis.txt\",\n    txt_mode=\"a\",  # append (default) or \"w\" to overwrite\n)\n</code></pre> <p>Prints transition driver analysis in human-readable format.</p> <p>Parameters:</p> <ul> <li><code>analysis</code>: Output from extract_transition_drivers()</li> <li><code>save_txt</code>: Save output to text file (default: False)</li> <li><code>txt_path</code>: Path for text file (required if save_txt=True)</li> <li><code>txt_mode</code>: File mode - \"a\" to append (default), \"w\" to overwrite</li> </ul>"},{"location":"changelog/","title":"Changelog","text":"<p>Only major releases (v0.x.0) are listed.</p>"},{"location":"changelog/#v060-2026-01","title":"v0.6.0 (2026-01)","text":"<p>Simplified Visualization Path API</p> <ul> <li>Added <code>plot_path</code> and <code>csv_path</code> parameters to <code>plot_priority_matrix()</code>, <code>plot_transition_timeline()</code>, <code>plot_entity_trajectories()</code></li> <li>Path implies save: providing path automatically saves output</li> <li>Accepts Path objects directly (no <code>str()</code> wrapper needed)</li> <li>Old API (<code>save_plot=True</code> + <code>plot_dir</code> + <code>plot_filename</code>) deprecated</li> </ul>"},{"location":"changelog/#v050-2026-01","title":"v0.5.0 (2026-01)","text":"<p>Simplified API Returns</p> <ul> <li>Added <code>return_stats</code>, <code>return_metadata</code>, <code>return_path</code> parameters to core functions</li> <li>Functions now return just DataFrame by default; pass <code>return_*=True</code> for tuple</li> <li>Renamed <code>track_cumulative_movement()</code> \u2192 <code>track_movement()</code> (old name deprecated)</li> <li>Fixed threshold calibration docs and x_score/y_score interpretation</li> </ul>"},{"location":"changelog/#v040-2025-01","title":"v0.4.0 (2025-01)","text":"<p>Unified API with Axis Metrics</p> <ul> <li>Introduced <code>x_metric</code> / <code>y_metric</code> parameters to <code>fit_priority_matrix()</code> for flexible axis definitions beyond default volume/growth</li> <li>Added <code>x_score</code> / <code>y_score</code> coordinate-based quadrant classification (replaces Random_Intercept/Random_Slope naming in outputs)</li> <li>Added Gamma family support for continuous GLMM (e.g., duration or amount metrics)</li> <li>Gaussian GLMM support for metric-based axes</li> <li>Improved quadrant label rendering with configurable legend position (<code>legend_loc</code>, <code>show_legend</code>)</li> <li>Row-aligned quadrant label offsetting to avoid legend overlap</li> </ul> <p>Trajectory Auto-Selection</p> <ul> <li>Added <code>highlight_top_n</code> parameter to <code>plot_entity_trajectories()</code> for automatic entity selection</li> <li>Added <code>highlight_by</code> parameter: <code>\"trajectory_distance\"</code> (euclidean path) or <code>\"total_movement\"</code> (manhattan)</li> <li>Added <code>recent_periods</code> parameter to limit trajectory window to last N periods</li> </ul> <p>Enhanced Driver Analysis</p> <ul> <li>Added <code>numeric_cols</code> parameter to <code>extract_transition_drivers()</code> for amount/duration breakdowns</li> <li>Explicit bins: <code>{\"amount\": [0, 1e6, 5e6, 10e6]}</code></li> <li>Auto quantiles: <code>{\"duration\": 4}</code> (4 bins)</li> <li>Renamed <code>quarter_from</code>/<code>quarter_to</code> to <code>period_from</code>/<code>period_to</code> (backwards compatible)</li> <li>Renamed <code>top_n_subcategories</code> to <code>top_n</code>, <code>min_subcategory_delta</code> to <code>min_delta</code> (backwards compatible)</li> <li>Added <code>save_txt</code>, <code>txt_path</code>, <code>txt_mode</code> parameters to <code>display_transition_drivers()</code> for file output</li> </ul>"},{"location":"changelog/#v030-2024-12","title":"v0.3.0 (2024-12)","text":"<p>Entity Metrics and Priority Indices</p> <ul> <li>Implemented <code>add_priority_indices()</code> for composite index calculation:</li> <li>RI (Risk Index): volume + growth + severity</li> <li>SQI (Service Quality Index): resolution speed + recovery rate</li> <li>EWI (Early Warning Index): blends RI and SQI for prioritization</li> <li>Added <code>aggregate_entity_metrics()</code> helper for per-entity metric aggregation</li> <li>Added <code>sensitivity_analysis()</code> for weight stability testing</li> <li>Monthly granularity support (beta) in GLMM and visualizations</li> <li>Unified <code>px.*</code> namespace imports pattern</li> </ul>"},{"location":"changelog/#v020-2024-11","title":"v0.2.0 (2024-11)","text":"<p>Transition Tracking and Visualization</p> <ul> <li>Implemented <code>track_movement()</code> for entity trajectory tracking (originally <code>track_cumulative_movement</code>, renamed in v0.5.0)</li> <li>Added <code>extract_transitions()</code> for quadrant movement detection</li> <li>Transition timeline visualization with priority-based coloring (Crisis/Investigate/Monitor/Low)</li> <li>Spike markers (<code>*X</code>, <code>*Y</code>, <code>*XY</code>) for volume/growth spikes</li> <li>Deterministic seeding via <code>PRIORITYX_GLMM_SEED</code> for reproducible GLMM fits</li> <li><code>plot_entity_trajectories()</code> for movement path visualization</li> <li>Transition driver analysis (experimental)</li> </ul>"},{"location":"changelog/#v010-2024-10","title":"v0.1.0 (2024-10)","text":"<p>Initial Release</p> <ul> <li>Core GLMM estimation with Poisson mixed effects (statsmodels backend)</li> <li><code>fit_priority_matrix()</code> main API for entity prioritization</li> <li>Quadrant classification (Q1-Q4) based on volume and growth</li> <li>Priority matrix scatter plot visualization</li> <li>Quarterly, yearly, and semiannual temporal granularity</li> <li>Date filtering and minimum observation thresholds</li> <li>CSV and plot export with configurable output directories</li> </ul>"},{"location":"methodology/","title":"Methodology","text":""},{"location":"methodology/#overview","title":"Overview","text":"<p>priorityx uses Generalized Linear Mixed Models (GLMM) to classify entities into priority quadrants based on volume and growth trajectories.</p>"},{"location":"methodology/#statistical-approach","title":"Statistical Approach","text":""},{"location":"methodology/#glmm-specification","title":"GLMM Specification","text":"<p>Model: Poisson Bayesian Mixed GLMM</p> <pre><code>count ~ time + seasonal_effects + (1 + time | entity)\n</code></pre> <p>Components:</p> <ul> <li>Fixed effects: Overall time trend + seasonal dummies (quarterly/semiannual)</li> <li>Random intercepts: Entity-specific baseline volume</li> <li>Random slopes: Entity-specific growth rates</li> </ul> <p>Estimation: Variational Bayes (VB) for posterior mean</p> <p>Priors:</p> <ul> <li>Random effects: vcp_p = 3.5 (relaxed for boundary behavior)</li> <li>Fixed effects: fe_p = 3.0</li> </ul>"},{"location":"methodology/#understanding-x_score-and-y_score","title":"Understanding x_score and y_score","text":"<p>The priority matrix axes represent entity-specific deviations from population trends:</p> Score GLMM Component Interpretation x_score Random intercept Entity's baseline volume relative to peers y_score Random slope Entity's growth trajectory relative to peers <p>Scale interpretation: - Poisson models (count-based): Scores are on log-scale. A value of 0.5 means ~65% higher than average (exp(0.5) \u2248 1.65). - Gaussian/Gamma models (metric-based): Scores are z-standardized for comparability across metrics.</p>"},{"location":"methodology/#quadrant-classification","title":"Quadrant Classification","text":"<p>Entities classified based on random effects:</p> <p>Q1 (Critical): x_score &gt; 0, y_score &gt; 0, count \u2265 50 - High volume, accelerating growth - Requires immediate attention</p> <p>Q2 (Investigate): x_score \u2264 0, y_score &gt; 0 - Low volume but growing rapidly - Emerging issues to watch</p> <p>Q3 (Monitor): x_score \u2264 0, y_score \u2264 0 - Low volume, stable or declining - Routine monitoring</p> <p>Q4 (Low Priority): x_score &gt; 0, y_score \u2264 0 - High volume but not accelerating - Persistent baseline issues</p> <p>The count threshold for Q1 prevents low-volume entities from being mislabeled as Critical.</p> <p>Priority tiers applied in the transition timeline build on these quadrants with velocity-based rules (see <code>docs/priority_classification.md</code>) to differentiate Crisis, Investigate, Monitor, and Low responses.</p>"},{"location":"methodology/#movement-tracking","title":"Movement Tracking","text":""},{"location":"methodology/#three-step-process","title":"Three-Step Process","text":"<p>1. Global Baseline - GLMM on full dataset - Provides stable quadrant assignment</p> <p>2. Endpoint Cohorting - Define valid entities at analysis endpoint - Ensures consistent peer group</p> <p>3. Quarterly Tracking - GLMM on cumulative data up to each quarter - Tracks X/Y position changes over time</p>"},{"location":"methodology/#transition-detection","title":"Transition Detection","text":"<p>Cross-quadrant transitions:</p> <ul> <li>Q3\u2192Q2\u2192Q1: Escalation path</li> <li>Q1\u2192Q4, Q2\u2192Q3: De-escalation</li> </ul> <p>Within-quadrant changes:</p> <ul> <li>Y-axis surge &gt; 1.0: Dramatic acceleration</li> <li>X-axis surge &gt; 1.0: Major volume increase</li> </ul>"},{"location":"methodology/#data-filters","title":"Data Filters","text":"<p>Sparse entities:</p> <ul> <li>min_total_count: Filter entities below count threshold</li> <li>min_observations: Filter entities with insufficient time periods</li> </ul> <p>Stale entities:</p> <ul> <li>decline_window_quarters: Filter entities inactive &gt;N quarters</li> <li>Prevents contamination from historical data</li> </ul>"},{"location":"methodology/#validation","title":"Validation","text":"<p>Approach validated on regulatory monitoring data:</p> <ul> <li>95.7% accuracy vs baseline methods</li> <li>1-3 quarter earlier detection of escalating entities</li> <li>Reduced false oscillations for smooth growth patterns</li> </ul>"},{"location":"methodology/#references","title":"References","text":"<ul> <li>Social media analytics for mining customer complaints to explore product opportunities (2023). Computers &amp; Industrial Engineering. https://doi.org/10.1016/j.cie.2023.109104</li> </ul>"},{"location":"output_naming/","title":"PriorityX Output Naming","text":"<p>This note documents where PriorityX writes plots/CSVs and how filenames are constructed. It is meant as a quick reference when wiring outputs into EWS pipelines or BI tools.</p>"},{"location":"output_naming/#directories","title":"Directories","text":"<p>By default, PriorityX writes artifacts under the current working directory, using two main folders:</p> <ul> <li><code>results/plot/</code> \u2014 PNG plots</li> <li><code>results/csv/</code> \u2014 CSV tables (movement, matrices, transitions, etc.)</li> </ul> <p>You can override these via the <code>plot_dir</code> / <code>csv_dir</code> / <code>output_dir</code> arguments on the plotting and helper functions.</p> <p>Note: repository examples may override these directories (e.g., to write artifacts under <code>examples/&lt;name&gt;/results/</code>).</p>"},{"location":"output_naming/#priority-matrix","title":"Priority Matrix","text":"<p>Function: <code>priorityx.viz.matrix.plot_priority_matrix</code></p> <ul> <li>Default <code>plot_dir</code>: <code>results/plot</code></li> <li>Default <code>csv_dir</code>: <code>results/csv</code></li> <li>Filename pattern (plot):</li> </ul> <pre><code>priority_matrix-&lt;entity_name_slug&gt;-&lt;granularity_suffix&gt;-&lt;YYYYMMDD&gt;.png\n</code></pre> <ul> <li>Filename pattern (CSV):</li> </ul> <pre><code>priority_matrix-&lt;entity_name_slug&gt;-&lt;granularity_suffix&gt;-&lt;YYYYMMDD&gt;.csv\n</code></pre> <p>Where:</p> <ul> <li><code>&lt;entity_name_slug&gt;</code> is <code>entity_name.lower().replace(\" \", \"_\")</code></li> <li><code>&lt;granularity_suffix&gt;</code> is:</li> <li><code>Q</code> for quarterly</li> <li><code>Y</code> for yearly</li> <li><code>S</code> for semiannual</li> </ul> <p>Example (topics, quarterly):</p> <pre><code>results/plot/priority_matrix-topic-Q-20251126.png\nresults/csv/priority_matrix-topic-Q-20251126.csv\n</code></pre>"},{"location":"output_naming/#transition-timelines","title":"Transition Timelines","text":"<p>Function: <code>priorityx.viz.timeline.plot_transition_timeline</code></p> <ul> <li>Default <code>plot_dir</code>: <code>results/plot</code></li> <li>Default <code>csv_dir</code>: <code>results/csv</code></li> <li>Filename pattern (plot):</li> </ul> <pre><code>transition_timeline-&lt;entity_name_slug&gt;-&lt;granularity_suffix&gt;-&lt;YYYYMMDD&gt;.png\n</code></pre> <ul> <li>Filename pattern (CSV):</li> </ul> <pre><code>transition_timeline-&lt;entity_name_slug&gt;-&lt;granularity_suffix&gt;-&lt;YYYYMMDD&gt;.csv\n</code></pre> <p>Example (FSPs, quarterly):</p> <pre><code>results/plot/transition_timeline-fsp-Q-20251126.png\nresults/csv/transition_timeline-fsp-Q-20251126.csv\n</code></pre>"},{"location":"output_naming/#trajectories","title":"Trajectories","text":"<p>Function: <code>priorityx.viz.trajectory.plot_entity_trajectories</code></p> <ul> <li>Default <code>plot_dir</code>: <code>results/plot</code></li> <li>Default <code>csv_dir</code>: <code>results/csv</code></li> <li>Filename pattern (plot):</li> </ul> <pre><code>trajectories-&lt;entity_name_slug&gt;-&lt;granularity_suffix&gt;-&lt;YYYYMMDD&gt;.png\n</code></pre> <ul> <li>When <code>save_csv=True</code> (default is <code>False</code>), CSV is saved via   <code>priorityx.utils.helpers.save_dataframe_to_csv</code> with artifact name   <code>\"trajectories\"</code> (see next section).</li> </ul> <p>Example (topics, quarterly):</p> <pre><code>results/plot/trajectories-topic-Q-20251126.png\nresults/csv/trajectories-topic-Q-20251126.csv   # only when save_csv=True\n</code></pre>"},{"location":"output_naming/#helpers-csv-naming","title":"Helpers: CSV Naming","text":"<p>Utility: <code>priorityx.utils.helpers.save_dataframe_to_csv</code></p> <p>This helper centralises CSV naming using <code>generate_output_path</code>:</p> <pre><code>&lt;output_dir&gt;/&lt;artifact&gt;-&lt;entity_slug&gt;-&lt;granularity_suffix&gt;-&lt;YYYYMMDD&gt;.csv\n</code></pre> <p>Where:</p> <ul> <li><code>&lt;output_dir&gt;</code> defaults to <code>results/csv</code></li> <li><code>&lt;artifact&gt;</code> is a short key such as <code>movement</code>, <code>trajectories</code>,   <code>priority_matrix</code></li> <li><code>&lt;entity_slug&gt;</code> is <code>entity_name.lower().replace(\" \", \"_\")</code></li> <li><code>&lt;granularity_suffix&gt;</code> is <code>Q</code>, <code>Y</code>, or <code>S</code> (as above)</li> </ul> <p>Examples:</p> <pre><code>results/csv/movement-topic-Q-20251126.csv\nresults/csv/trajectories-fsp-Q-20251126.csv\n</code></pre>"},{"location":"output_naming/#ews-canonical-csv-outputs","title":"EWS canonical CSV outputs","text":"<p>For the complaints Early Warning System (EWS) pipelines, the canonical CSV artifacts per run are:</p> <pre><code>movement-*.csv\npriority_matrix-*.csv\ntransitions-*.csv\n</code></pre> <p>Trajectory CSVs (<code>trajectories-*.csv</code>) are optional and are typically only written for selected custom views (for example, a focus list of FSPs or products) by explicitly passing <code>save_csv=True</code> to <code>plot_entity_trajectories</code>.</p>"},{"location":"output_naming/#overriding-locations","title":"Overriding locations","text":"<p>All plotting and helper functions accept directories as keyword arguments (<code>plot_dir</code>, <code>csv_dir</code>, <code>output_dir</code>). To write outputs into a custom EWS workspace, pass explicit paths, for example:</p> <pre><code>plot_priority_matrix(\n    results_df,\n    entity_name=\"Topic\",\n    plot_dir=\"ews/results/plot\",\n    csv_dir=\"ews/results/csv\",\n)\n</code></pre> <p>This keeps file naming consistent while letting each project choose where artifacts live.</p>"},{"location":"priority_classification/","title":"Priority Classification Overview","text":"<p>A four-tier priority system ranks quadrant transitions by urgency using movement velocity, magnitude, and spike detection. Priorities are computed inside <code>plot_transition_timeline(..., movement_df=...)</code> and saved in transition CSVs.</p>"},{"location":"priority_classification/#priority-tiers","title":"Priority Tiers","text":"Priority Label &amp; Color Main Triggers Recommended Action 1 \u2013 Crisis \ud83d\udd34 Explosion requiring immediate response \u0394X \u2265 0.40 or \u0394Y \u2265 0.40; volume jump \u2265 50 with \u2265500% growth; both axes spiking (<code>*XY</code>) Launch crisis playbook, staff war room, monitor daily 2 \u2013 Investigate \ud83d\udfe0 Rapid escalation needing urgent review <code>|\u0394X|</code> &gt; 0.15 or <code>|\u0394Y|</code> &gt; 0.15; entry into Q1 with strong position; \u2265100% growth with \u22655 new complaints Trigger early warning, assign analysts, tighten monitoring cadence 3 \u2013 Monitor \ud83d\udfe1 Borderline movement worth watching Position within \u00b10.10 of quadrant boundary; gentle Q1 entry Track trend, document findings, review quarterly 4 \u2013 Low \ud83d\udfe2 Stable or improving No conditions above met Maintain routine oversight"},{"location":"priority_classification/#spike-indicators","title":"Spike Indicators","text":"Marker Meaning Threshold <code>*Y</code> Growth spike \u0394Y \u2265 0.40 <code>*X</code> Volume spike \u0394X \u2265 0.40 <code>*XY</code> Simultaneous spikes \u0394X \u2265 0.40 and \u0394Y \u2265 0.40"},{"location":"priority_classification/#threshold-calibration","title":"Threshold Calibration","text":"<p>These thresholds are empirical calibrations derived from regulatory monitoring of financial complaints, not statistical cutoffs from a known distribution.</p>"},{"location":"priority_classification/#why-these-values","title":"Why These Values?","text":"Threshold Value Calibration Rationale Crisis spike \u00b10.40 Flags ~top 1% of period-over-period movements in OJK complaints data (2021-2024) Velocity trigger \u00b10.15 Captures sustained acceleration above median movement Borderline band \u00b10.10 Buffer zone around quadrant boundaries"},{"location":"priority_classification/#important-caveats","title":"Important Caveats","text":"<ol> <li> <p>Scale depends on data: GLMM random effects are on log-scale (Poisson) or original scale (Gaussian). The absolute values depend on your data's variance structure.</p> </li> <li> <p>Domain calibration recommended: These thresholds were tuned for financial complaints. For other domains (IT incidents, bugs), validate with your historical data:    <pre><code># check your data's movement distribution\nmovements = movement_df.groupby('entity')[['x_delta', 'y_delta']].agg(['mean', 'std', 'max'])\nprint(movements.describe())\n</code></pre></p> </li> <li> <p>Not statistical cutoffs: Unlike z-scores where 2\u03c3 = 95th percentile, these are operational thresholds. Adjust based on your false-positive tolerance.</p> </li> </ol>"},{"location":"priority_classification/#threshold-reference","title":"Threshold Reference","text":"Metric Cut-off Notes Crisis spike \u00b10.40 Empirical: flags extreme moves in calibration data Velocity trigger \u00b10.15 Empirical: sustained acceleration Growth shock \u2265100% and \u22655 complaints Filters out noise from tiny bases Explosion \u2265500% and \u226550 complaints High-volume surges escalated to Crisis Borderline band \u00b10.10 Buffer zone around quadrant boundaries"},{"location":"priority_classification/#usage-guidelines","title":"Usage Guidelines","text":"<ol> <li>Always supply movement data: <code>plot_transition_timeline(transitions, movement_df=movement)</code> is required for priority scoring; omitting it defaults to Priority 2.</li> <li>Filter by priority: e.g. <code>transitions[transitions[\"priority\"] == 1]</code> to summarize crises; risk_level is retained for backward compatibility only.</li> <li>Inspect spike markers: <code>*X</code>, <code>*Y</code>, <code>*XY</code> signal urgent within-quadrant acceleration that may precede cross-quadrant jumps.</li> <li>Adjust tracking range deliberately: longer histories surface more transitions; short windows emphasize recent moves.</li> </ol>"},{"location":"quickstart/","title":"Quick Start","text":""},{"location":"quickstart/#installation","title":"Installation","text":"<pre><code>pip install priorityx\n</code></pre>"},{"location":"quickstart/#basic-usage","title":"Basic Usage","text":"<pre><code>import pandas as pd\nimport priorityx as px\n\n# load your data\ndf = pd.read_csv(\"your_data.csv\")\ndf[\"date\"] = pd.to_datetime(df[\"date\"])\n\n# fit priority matrix\nresults = px.fit_priority_matrix(\n    df,\n    entity_col=\"service\",      # your entity column\n    timestamp_col=\"date\",      # your date column\n    temporal_granularity=\"quarterly\",\n    min_observations=8,\n)\n\n# visualize\npx.plot_priority_matrix(results, entity_name=\"Service\", save_plot=True)\n</code></pre>"},{"location":"quickstart/#full-workflow","title":"Full Workflow","text":"<pre><code>import priorityx as px\n\n# track movement over time\nmovement = px.track_movement(\n    df,\n    entity_col=\"service\",\n    timestamp_col=\"date\",\n    quarters=[\"2024-01-01\", \"2025-01-01\"],\n)\n\n# detect transitions\ntransitions = px.extract_transitions(movement)\n\n# visualize transitions\npx.plot_transition_timeline(transitions, entity_name=\"Service\", save_plot=True)\n\n# plot trajectories (auto-select top 4 movers from last 6 quarters)\npx.plot_entity_trajectories(\n    movement,\n    entity_name=\"service\",\n    highlight_top_n=4,\n    highlight_by=\"trajectory_distance\",\n    recent_periods=6,\n    save_plot=True,\n)\n\n# analyze drivers for a specific transition\nanalysis = px.extract_transition_drivers(\n    movement_df=movement,\n    df_raw=df,\n    entity_name=\"Service A\",\n    period_from=\"2024-Q2\",\n    period_to=\"2024-Q3\",\n    entity_col=\"service\",\n    timestamp_col=\"date\",\n    subcategory_cols=[\"category\", \"region\"],\n    numeric_cols={\"amount\": [0, 1e6, 5e6, 10e6]},  # breakdown by amount bins\n)\npx.display_transition_drivers(analysis, save_txt=True, txt_path=\"drivers.txt\")\n</code></pre>"},{"location":"quickstart/#data-requirements","title":"Data Requirements","text":"<p>Your data needs:</p> <ul> <li>Entity identifier column (e.g., service, component, department)</li> <li>Timestamp column (Date or Datetime type)</li> <li>Optional: Count metric column (defaults to row count)</li> </ul>"},{"location":"quickstart/#output","title":"Output","text":"<p>By default, outputs saved to:</p> <ul> <li><code>results/plot/</code> \u2014 PNG visualizations (priority matrix, transitions, trajectories)</li> <li><code>results/csv/</code> \u2014 CSV tables (entity scores, transitions, movement tracking)</li> </ul> <p>You can customize output directories using the <code>plot_dir</code> / <code>csv_dir</code> / <code>output_dir</code> parameters in visualization functions.</p>"},{"location":"quickstart/#deterministic-runs","title":"Deterministic runs","text":"<p>Set <code>PRIORITYX_GLMM_SEED</code> (or call <code>set_glmm_random_seed()</code>) before running analyses to obtain repeatable GLMM estimates during debugging or CI checks:</p> <pre><code>PRIORITYX_GLMM_SEED=1234 python your_script.py\n</code></pre>"}]}